import promptAction from '@ohos.promptAction';
import { router } from '@kit.ArkUI';

@Entry
@Component
export default struct Create {
  @State text: string = '';
  @State current_index: number = 0

  @Builder
  tabBuilder(index:number ,title: string) {
    if(index === this.current_index){
      Text(title)
        .fontWeight(800)
        .fontSize(20)
        .fontColor(Color.White)
        .border({width:{bottom:2},color:'red'})
    }else {
      Text(title)
        .fontWeight(800)
        .fontSize(20)
        .fontColor(Color.White)
    }
  }

  @Builder
  tabContent(content:string){
    Button(content)
    .backgroundColor('rgba(255,255,255,0.1)')
    .fontColor('white')
    .fontSize(40)
    .width(80)
    .height(80)
  }

  @Builder
  buttonBuilder(content:string, message:string, text:string){
    Column(){
      Button(content)
        .backgroundColor('rgba(255,255,255,0.1)')
        .height('50')
        .width('50')
        .onClick(()=>{
          promptAction.showToast({message:message})
        })
      Text(text)
        .fontColor('white')
    }
  }

  build() {
    Column(){
      Row(){
        Button('Ã—')
          .backgroundColor('black')
          .fontColor('white')
          .fontSize(25)
          .onClick(()=>{
            router.pushUrl({
              url: "Home/pages/Index",
            })
            router.clear()
          })
        Text('åˆ›å»ºå†…å®¹')
          .fontSize(25)
          .fontWeight(20)
          .fontColor('white')
        Button('å‘å¸ƒ')
          .backgroundColor('red')
          .fontColor('white')
          .fontWeight(FontWeight.Bold)
          .fontSize(15)
      }
      .justifyContent(FlexAlign.SpaceBetween)
      .width('95%')
      .margin({top:10})

      Divider()
        .color('rgba(255,255,255,0.1)')
        .margin({top:20})
        .strokeWidth(1)

      Scroll(){
        Column(){
          Row(){
            Tabs(){
              TabContent(){
                this.tabContent('+')
              }.tabBar(this.tabBuilder(0,'è§†é¢‘'))
              .backgroundColor('#1a1a1a')

              TabContent(){
                this.tabContent('ðŸ“·')
              }.tabBar(this.tabBuilder(1,'ç…§ç‰‡'))
              .backgroundColor('#1a1a1a')

              TabContent(){
                this.tabContent('ðŸŽµ')
              }.tabBar(this.tabBuilder(2,'éŸ³ä¹'))
              .backgroundColor('#1a1a1a')

              TabContent(){
                this.tabContent('ðŸ“')
              }.tabBar(this.tabBuilder(3,'æ–‡å­—'))
              .backgroundColor('#1a1a1a')
            }
            .barHeight('20%')
            .onChange((index)=>{
              this.current_index = index
            })
          }
          .height('35%')

          Row(){
            this.buttonBuilder('âœ‚ï¸','è¿›è¡Œè£å‰ª','è£å‰ª')
            this.buttonBuilder('ðŸŽ¨','ä½¿ç”¨æ»¤é•œ','æ»¤é•œ')
            this.buttonBuilder('âœ¨','æ·»åŠ ç‰¹æ•ˆ','ç‰¹æ•ˆ')
            this.buttonBuilder('âš¡','è°ƒèŠ‚ç”»é¢','è°ƒèŠ‚')
            this.buttonBuilder('ðŸ’¬','æ·»åŠ å­—å¹•','å­—å¹•')
          }
          .justifyContent(FlexAlign.SpaceBetween)
          .margin({top:10})
          .width('90%')
          .height('10%')

          Divider()
            .color('rgba(255,255,255,0.1)')
            .margin({top:10})
            .strokeWidth(1)

          Column({space:8}){
            Row(){
              Text('éŸ³ä¹')
                .fontColor('white')
                .fontWeight(800)
                .fontSize(20)
              Button('æ›´å¤š')
                .fontColor('red')
                .backgroundColor('black')
                .fontSize('15')
            }
            .width('96%')
            .justifyContent(FlexAlign.SpaceBetween)
            .margin({left:20})
            Row(){
              Image($r('app.media.music_cover'))
                .width(50)
                .border({radius:10,color:'rgba(255,255,255,0.2)',width:1})
                .onClick(()=>{
                  router.pushUrl({url:'Create/page/MusicPage'})
                })
              Text('éŸ³ä¹å°é¢')
                .fontColor('white')
                .fontSize(20)
                .width(40)
                .margin({left:5})
              Column(){
                Text('æ™šé£Žè½»æŠš')
                  .fontWeight(FontWeight.Bold)
                  .fontColor('white')
                Text('è½»éŸ³ä¹å¤§å¸ˆ-å¿ƒçµæ²»æ„ˆç³»åˆ—')
                  .fontColor('white')
                  .fontSize('12')
              }
              .margin({left:10})
              .width('138')
              .alignItems(HorizontalAlign.Start)
              Text('â™«')
                .fontColor('white')
                .margin({left:100})
            }
            .width('95%')
          }
          .height('15%')
          .width('100%')

          Divider()
            .color('rgba(255,255,255,0.1)')
            .margin({top:10, bottom:15})
            .strokeWidth(1)

          Row(){
            Stack({alignContent:Alignment.BottomStart}){
              TextArea({placeholder:'æ·»åŠ è§†é¢‘æè¿°...',text:this.text})
                .backgroundColor('rgba(255,255,255,0.2)')
                .showCounter(true)
                .maxLength(520)
                .placeholderColor('rgba(255,255,255,0.2)')
                .height('25%')
                .onChange((text)=>{
                  this.text = text
                })
              Text('#è¯é¢˜')
                .fontColor('rgba(255,255,255,0.3)')
                .fontSize(20)
                .margin({left:30,bottom:10})
                .onClick(()=>{
                  this.text = this.text + '#è¯é¢˜'
                })
            }
          }
          .width('95%')
          Row(){
            Text('è°å¯ä»¥çœ‹')
              .fontColor('white')
            Text('å…¬å¼€ >')
              .fontColor('white')
          }
          .width('95%')
          .margin({top:30})
          .justifyContent(FlexAlign.SpaceBetween)

          Divider()
            .color('rgba(255,255,255,0.1)')
            .margin({top:10, bottom:15})
            .strokeWidth(1)

          Row(){
            Text('å…è®¸è¯„è®º')
              .fontColor('white')
            Text('æ‰€æœ‰äºº >')
              .fontColor('white')
          }
          .width('95%')
          .justifyContent(FlexAlign.SpaceBetween)

          Row(){
            Text('åˆ†äº«åˆ°åŠ¨æ€')
              .fontColor('white')
            Text('å¼€å¯ >')
              .fontColor('white')
          }
          .width('95%')
          .margin({top:20})
          .justifyContent(FlexAlign.SpaceBetween)
          Row(){}.height('5%')
        }
      }
      .layoutWeight(1)
      .scrollBar(BarState.Off)
      .backgroundColor('black')
      .width('100%')
    }
    .backgroundColor('black')
    .width('100%')
    .height('100%')
  }
}